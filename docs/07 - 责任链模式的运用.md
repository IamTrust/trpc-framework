# 责任链模式的运用

在整个 RPC 调用的过程中，可能还需要一些通用的处理。

例如：
- 对于服务提供者来说，可能需要对调用请求进行鉴权
- 对于服务提供者来说，可能需要分组管理服务
- 日志记录
- ......

框架自身对于这些通用处理会提供实现，并且框架也支持用户自定义一些处理逻辑加入到 RPC 调用的过程中。

具体来说，通过「过滤器链」实现，在客户端发起调用的过程中，需要经过一系列的「客户端过滤器链」，在服务端收到调用请求的时候，也要经过一系列的「服务端过滤器链」。

框架自身对这些通用处理提供实现，即框架自身实现了几个过滤器：
- 日志记录
- 服务分组
- IP直连方式访问服务端

以「过滤器链」的形式实现在 RPC 调用过程中加入一系列处理即运用了「责任链」模式。

如果用户需要定制一些操作的话，也可以实现过滤器，并配置到过滤器链中即可。

不过在这个章节中只负责框架自身运用责任链模式实现在 RPC 调用过程中加入日志记录、服务分组和IP直连的处理。 而用户自定义过滤器、以及将自定义的过滤器配置并加入到框架的过滤器链中则在下一个章节「可插拔式扩展组件」中利用 SPI 机制实现。